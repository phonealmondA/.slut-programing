* <main> AllLoopsTest {
    ^ observe_execution {
        speak("=== ITERATION FEATURE TEST ===")

        # Test 1: Count Loop
        speak("1. Count Loop")
        loop <> count(3) {
            speak("  Counting...")
        }

        # Test 2: Range Loop
        speak("2. Range Loop")
        loop <> range(0, 10) as i {
            speak("  Value: ~i~")
			result([33]) <> randomChoice([i, 3, 4])
        }

        # Test 3: While Loop
        speak("3. While Loop")
        counter <> 0
        loop <> while (counter < 3) {
            speak("  Counter: ~counter~")
            counter <> calc(counter, 1)
        }

        # Test 4: Break in Count Loop
        speak("4. Break Statement")
        loop <> count(10) {
            speak("  Breaking!")
            break
        }

        # Test 5: Variables in Loops
        speak("5. Accumulator Pattern")
        sum <> 0
        loop <> count(5) {
            sum <> calc(sum, 1)
        }
        speak("  Final sum: ~sum~")

        speak("=== ALL TESTS COMPLETE ===")
    }
}
